exports.id=741,exports.ids=[741],exports.modules={6800:(e,t,r)=>{Promise.resolve().then(r.bind(r,2128))},3302:(e,t,r)=>{Promise.resolve().then(r.bind(r,7529))},5303:()=>{},2128:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var a=r(326);r(7577);var s=r(772);function o({error:e,reset:t}){return(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-[400px] space-y-4",children:[a.jsx("h2",{className:"text-2xl font-bold",children:"出错了！"}),a.jsx("p",{className:"text-muted-foreground",children:"抱歉，发生了错误。请尝试刷新页面。"}),a.jsx(s.z,{onClick:()=>t(),children:"刷新页面"})]})}},7529:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>b});var a=r(326),s=r(7577),o=r(5047),i=r(434),n=r(7863),l=r(4319),c=r(6283),d=r(5265),m=r(1709),p=r(2881);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let h=(0,p.Z)("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);var f=r(617),u=r(7671),y=r(4061),g=r(4550);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let x=(0,p.Z)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);var S=r(1810);let k=[{name:"仪表盘",href:"/admin/dashboard",icon:l.Z},{name:"文章管理",href:"/admin/blog",icon:c.Z},{name:"项目管理",href:"/admin/projects",icon:d.Z},{name:"作品集管理",href:"/admin/portfolio",icon:m.Z},{name:"服务管理",href:"/admin/services",icon:h},{name:"论坛管理",href:"/admin/forum",icon:f.Z},{name:"询价订单",href:"/admin/inquiries",icon:u.Z},{name:"用户管理",href:"/admin/users",icon:y.Z}];function v(){let e=(0,o.usePathname)(),t=(0,o.useRouter)();return(0,a.jsxs)("div",{className:"flex h-full flex-col glass border-r border-border/50",children:[a.jsx("div",{className:"flex h-16 items-center gap-2 px-6 border-b border-border/50",children:(0,a.jsxs)(i.default,{href:"/admin/dashboard",className:"flex items-center gap-2",children:[a.jsx(g.Z,{className:"h-8 w-8 text-primary"}),(0,a.jsxs)("span",{className:"text-xl font-bold text-foreground",children:["My",a.jsx("span",{className:"text-primary",children:"Portfolio"})]})]})}),a.jsx("nav",{className:"flex-1 space-y-1 px-3 py-4",children:k.map(t=>{let r=e===t.href||e.startsWith(t.href+"/");return(0,a.jsxs)(i.default,{href:t.href,className:(0,n.cn)("flex items-center gap-3 rounded-lg px-3 py-2 text-sm font-medium transition-all duration-200",r?"bg-primary/10 text-primary neon-glow":"text-muted-foreground hover:bg-muted/50 hover:text-foreground"),children:[a.jsx(t.icon,{className:"h-5 w-5"}),t.name]},t.name)})}),(0,a.jsxs)("div",{className:"border-t border-border/50 p-4 space-y-1",children:[(0,a.jsxs)(i.default,{href:"/",className:"flex items-center gap-3 rounded-lg px-3 py-2 text-sm font-medium text-muted-foreground hover:bg-muted/50 hover:text-foreground transition-all duration-200",children:[a.jsx(x,{className:"h-5 w-5"}),"网站首页"]}),(0,a.jsxs)("button",{onClick:()=>{localStorage.removeItem("token"),localStorage.removeItem("refreshToken"),localStorage.removeItem("user"),t.push("/login")},className:"w-full flex items-center gap-3 rounded-lg px-3 py-2 text-sm font-medium text-muted-foreground hover:bg-muted/50 hover:text-foreground transition-all duration-200",children:[a.jsx(S.Z,{className:"h-5 w-5"}),"退出登录"]})]})]})}function b({children:e}){(0,o.useRouter)();let[t,r]=(0,s.useState)(!0),[i,n]=(0,s.useState)(!1);return t?a.jsx("div",{className:"flex h-screen items-center justify-center bg-background",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-primary border-t-transparent"})}):i?(0,a.jsxs)("div",{className:"flex h-screen bg-background tech-grid",children:[a.jsx(v,{}),a.jsx("main",{className:"flex-1 overflow-auto p-8",children:e})]}):null}r(8528)},2643:(e,t,r)=>{"use strict";r.d(t,{Ol:()=>n,SZ:()=>c,Zb:()=>i,aY:()=>d,eW:()=>m,ll:()=>l});var a=r(326),s=r(7577),o=r(7863);let i=s.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:(0,o.cn)("rounded-lg border bg-card text-card-foreground shadow-sm glass-card card-hover",e),...t}));i.displayName="Card";let n=s.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:(0,o.cn)("flex flex-col space-y-1.5 p-6",e),...t}));n.displayName="CardHeader";let l=s.forwardRef(({className:e,...t},r)=>a.jsx("h3",{ref:r,className:(0,o.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t}));l.displayName="CardTitle";let c=s.forwardRef(({className:e,...t},r)=>a.jsx("p",{ref:r,className:(0,o.cn)("text-sm text-muted-foreground",e),...t}));c.displayName="CardDescription";let d=s.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:(0,o.cn)("p-6 pt-0",e),...t}));d.displayName="CardContent";let m=s.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:(0,o.cn)("flex items-center p-6 pt-0",e),...t}));m.displayName="CardFooter"},8528:(e,t,r)=>{"use strict";r.d(t,{AC:()=>x,F$:()=>k,Xo:()=>b,ZM:()=>p,eJ:()=>N,g8:()=>w,iJ:()=>g,mJ:()=>S,nJ:()=>v,ot:()=>T,s$:()=>f,x2:()=>h});let a=process.env.NEXT_PUBLIC_API_URL||"http://localhost:8000",s="user",o="token",i="refreshToken",n=!1,l=[],c=e=>{l.push(e)},d=e=>{l.forEach(t=>t(e)),l=[]},m={getToken:()=>localStorage.getItem(o),setToken:e=>localStorage.setItem(o,e),removeToken:()=>localStorage.removeItem(o),getRefreshToken:()=>localStorage.getItem(i),setRefreshToken:e=>localStorage.setItem(i,e),removeRefreshToken:()=>localStorage.removeItem(i),clearAll:()=>{m.removeToken(),m.removeRefreshToken(),localStorage.removeItem(s)}},p={getUser:()=>{let e=localStorage.getItem(s);if(!e)return null;try{return JSON.parse(e)}catch{return null}},setUser:e=>localStorage.setItem(s,JSON.stringify(e)),removeUser:()=>localStorage.removeItem(s)};function h(e){console.error(e)}function f(e){}async function u(){let e=m.getRefreshToken();if(!e)return!1;if(n)return new Promise(e=>{let t=setTimeout(()=>{l=l.filter(e=>e!==d),e(!1)},1e4);c(r=>{clearTimeout(t),e(!0)})});n=!0;try{let t=new AbortController,r=setTimeout(()=>t.abort(),1e4),s=await fetch(`${a}/api/auth/refresh`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refresh_token:e}),signal:t.signal});if(clearTimeout(r),!s.ok)return m.clearAll(),setTimeout(()=>{},100),!1;{let e=await s.json();return m.setToken(e.access_token),d(e.access_token),!0}}catch{return!1}finally{n=!1}}async function y(e,t={},r=1){let s=`${a}${e}`,o=new AbortController,i=setTimeout(()=>o.abort(),15e3);try{let a=await fetch(s,{...t,headers:{"Content-Type":"application/json",...function(){let e=m.getToken();return e?{Authorization:`Bearer ${e}`}:{}}(),...t.headers},signal:o.signal});if(clearTimeout(i),401===a.status&&r>0&&await u())return y(e,t,r-1);if(401===a.status&&0===r)throw m.clearAll(),setTimeout(()=>{},100),Error("登录已过期，请重新登录");if(!a.ok){let e=await a.json().catch(()=>({detail:"请求失败"})),t=e.detail||e.message||"请求失败";throw h(t),Error(t)}let n=a.headers.get("content-type");if(n&&n.includes("application/json"))return a.json();return{}}catch(e){if(clearTimeout(i),e instanceof Error&&"AbortError"===e.name)throw Error("请求超时，请稍后重试");throw e}}let g={login:async(e,t)=>{let r=await y("/api/auth/login",{method:"POST",body:JSON.stringify({email:e,password:t})});return m.setToken(r.access_token),r.refresh_token&&m.setRefreshToken(r.refresh_token),r},register:async(e,t,r)=>{let a=await y("/api/auth/register",{method:"POST",body:JSON.stringify({email:e,password:t,name:r})});return m.setToken(a.access_token),a.refresh_token&&m.setRefreshToken(a.refresh_token),a},logout:()=>{m.clearAll()},getCurrentUser:async()=>y("/api/auth/me"),refreshToken:async()=>{let e=m.getRefreshToken();if(!e)throw Error("No refresh token available");let t=await y("/api/auth/refresh",{method:"POST",body:JSON.stringify({refresh_token:e})});return m.setToken(t.access_token),t},isAuthenticated:()=>!!m.getToken(),isAdmin:()=>{let e=p.getUser();return e?.role==="ADMIN"}},x={list:async e=>{let t=new URLSearchParams;e?.page&&t.set("page",String(e.page)),e?.limit&&t.set("limit",String(e.limit)),e?.search&&t.set("search",e.search);let r=t.toString()?`?${t.toString()}`:"";return y(`/api/blog/posts${r}`)},get:async e=>y(`/api/blog/posts/${e}`),create:async e=>y("/api/blog/posts",{method:"POST",body:JSON.stringify(e)}),update:async(e,t)=>y(`/api/blog/posts/${e}`,{method:"PUT",body:JSON.stringify(t)}),delete:async e=>y(`/api/blog/posts/${e}`,{method:"DELETE"})},S={listTopics:async e=>{let t=new URLSearchParams;e?.page&&t.set("page",String(e.page)),e?.limit&&t.set("limit",String(e.limit));let r=t.toString()?`?${t.toString()}`:"";return y(`/api/forum/topics${r}`)},getTopic:async e=>y(`/api/forum/topics/${e}`),createTopic:async e=>y("/api/forum/topics",{method:"POST",body:JSON.stringify(e)}),getComments:async e=>y(`/api/forum/topics/${e}/comments`),addComment:async(e,t)=>y(`/api/forum/topics/${e}/comments`,{method:"POST",body:JSON.stringify(t)}),adminListTopics:async e=>{let t=new URLSearchParams;e&&t.set("search",e);let r=t.toString()?`?${t.toString()}`:"";return y(`/api/forum/admin/topics${r}`)},adminDeleteTopic:async e=>y(`/api/forum/admin/topics/${e}`,{method:"DELETE"}),adminListComments:async()=>y("/api/forum/admin/comments"),adminDeleteComment:async e=>y(`/api/forum/admin/comments/${e}`,{method:"DELETE"})},k={list:async e=>{let t=new URLSearchParams;e?.featured!==void 0&&t.set("featured",String(e.featured));let r=t.toString()?`?${t.toString()}`:"";return y(`/api/projects${r}`)},get:async e=>y(`/api/projects/${e}`),create:async e=>y("/api/projects",{method:"POST",body:JSON.stringify(e)}),update:async(e,t)=>y(`/api/projects/${e}`,{method:"PUT",body:JSON.stringify(t)}),delete:async e=>y(`/api/projects/${e}`,{method:"DELETE"})},v={list:async e=>{let t=new URLSearchParams;e?.category&&t.set("category",e.category);let r=t.toString()?`?${t.toString()}`:"";return y(`/api/portfolio${r}`)},get:async e=>y(`/api/portfolio/${e}`),create:async e=>y("/api/portfolio",{method:"POST",body:JSON.stringify(e)}),update:async(e,t)=>y(`/api/portfolio/${e}`,{method:"PUT",body:JSON.stringify(t)}),delete:async e=>y(`/api/portfolio/${e}`,{method:"DELETE"})},b={list:async()=>y("/api/services"),get:async e=>y(`/api/services/${e}`),create:async e=>y("/api/services",{method:"POST",body:JSON.stringify(e)}),update:async(e,t)=>y(`/api/services/${e}`,{method:"PUT",body:JSON.stringify(t)}),delete:async e=>y(`/api/services/${e}`,{method:"DELETE"})},T={list:async()=>y("/api/services/inquiries"),get:async e=>y(`/api/services/inquiries/${e}`),create:async e=>y("/api/services/inquiries",{method:"POST",body:JSON.stringify(e)}),update:async(e,t)=>y(`/api/services/inquiries/${e}`,{method:"PUT",body:JSON.stringify(t)}),delete:async e=>y(`/api/services/inquiries/${e}`,{method:"DELETE"})},N={send:async e=>y("/api/contact",{method:"POST",body:JSON.stringify(e)})},w={list:async e=>{let t=new URLSearchParams;e&&t.set("search",e);let r=t.toString()?`?${t.toString()}`:"";return y(`/api/users${r}`)},get:async e=>y(`/api/users/${e}`),update:async(e,t)=>y(`/api/users/${e}`,{method:"PUT",body:JSON.stringify(t)}),updateRole:async(e,t)=>y(`/api/users/${e}/role`,{method:"PUT",body:JSON.stringify({role:t})}),delete:async e=>y(`/api/users/${e}`,{method:"DELETE"}),stats:async()=>y("/api/users/stats/count")}},6283:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(2881).Z)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},5265:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(2881).Z)("FolderKanban",[["path",{d:"M4 20h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.93a2 2 0 0 1-1.66-.9l-.82-1.2A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2Z",key:"1fr9dc"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M12 10v2",key:"hh53o1"}],["path",{d:"M16 10v6",key:"1d6xys"}]])},1709:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(2881).Z)("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]])},617:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(2881).Z)("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]])},7671:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(2881).Z)("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]])},4061:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(2881).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},5550:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>i,__esModule:()=>o,default:()=>n});var a=r(8570);let s=(0,a.createProxy)(String.raw`/root/.openclaw/workspace/portfolio-website/frontend/app/admin/error.tsx`),{__esModule:o,$$typeof:i}=s;s.default;let n=(0,a.createProxy)(String.raw`/root/.openclaw/workspace/portfolio-website/frontend/app/admin/error.tsx#default`)},596:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>i,__esModule:()=>o,default:()=>n});var a=r(8570);let s=(0,a.createProxy)(String.raw`/root/.openclaw/workspace/portfolio-website/frontend/app/admin/layout.tsx`),{__esModule:o,$$typeof:i}=s;s.default;let n=(0,a.createProxy)(String.raw`/root/.openclaw/workspace/portfolio-website/frontend/app/admin/layout.tsx#default`)},2406:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var a=r(9510),s=r(9541);function o(){return a.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:a.jsx(s.Z,{className:"h-8 w-8 animate-spin text-primary"})})}},9541:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(7162).Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])}};