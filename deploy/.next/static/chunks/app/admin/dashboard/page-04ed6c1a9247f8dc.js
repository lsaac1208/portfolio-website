(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8427],{8806:function(e,r,t){Promise.resolve().then(t.bind(t,8383))},8383:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return p}});var s=t(7437),a=t(2265),n=t(6013),l=t(2023),i=t(1907),c=t(7390),d=t(8960),o=t(3274);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let m=(0,t(8030).Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);var h=t(1240),u=t(7440),x=t(5591);function p(){let[e,r]=(0,a.useState)(!0),[t,p]=(0,a.useState)([]),[g,j]=(0,a.useState)([]);(0,a.useEffect)(()=>{f()},[]);let f=async()=>{try{let[e,r,t,s]=await Promise.all([x.AC.list({page:1,limit:5}),x.F$.list({featured:void 0}),x.mJ.listTopics({page:1,limit:5}),x.ot.list()]),a=e.posts||e,n=Array.isArray(t)?t:[];p([{name:"文章总数",value:String(a.length||0),change:"+0",icon:l.Z,color:"text-blue-500"},{name:"项目数量",value:String(r.length||0),change:"+0",icon:i.Z,color:"text-green-500"},{name:"论坛帖子",value:String(n.length||0),change:"+0",icon:c.Z,color:"text-purple-500"},{name:"询价数量",value:String(s.length||0),change:"+0",icon:d.Z,color:"text-cyan-500"}]);let o=[...a.slice(0,2).map((e,r)=>({id:r,type:"post",user:"Admin",action:"发布了新文章",target:e.title,time:(0,u.p6)(e.created_at)})),...r.slice(0,2).map((e,r)=>({id:10+r,type:"project",user:"Admin",action:"添加了新项目",target:e.name,time:(0,u.p6)(e.created_at)})),...s.slice(0,2).map((e,r)=>({id:20+r,type:"inquiry",user:e.client_name,action:"提交了询价",target:e.project_type||"咨询服务",time:(0,u.p6)(e.created_at)}))];j(o.slice(0,5))}catch(e){console.error("获取仪表盘数据失败:",e),(0,x.x2)("获取仪表盘数据失败"),p([{name:"文章总数",value:"0",change:"+0",icon:l.Z,color:"text-blue-500"},{name:"项目数量",value:"0",change:"+0",icon:i.Z,color:"text-green-500"},{name:"论坛帖子",value:"0",change:"+0",icon:c.Z,color:"text-purple-500"},{name:"询价数量",value:"0",change:"+0",icon:d.Z,color:"text-cyan-500"}])}finally{r(!1)}};return e?(0,s.jsxs)("div",{className:"space-y-8",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"仪表盘"}),(0,s.jsx)("p",{className:"text-muted-foreground mt-1",children:"加载中..."})]}),(0,s.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,s.jsx)(o.Z,{className:"h-8 w-8 animate-spin text-primary"})})]}):(0,s.jsxs)("div",{className:"space-y-8",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"仪表盘"}),(0,s.jsx)("p",{className:"text-muted-foreground mt-1",children:"欢迎回来，这是网站的整体概览"})]}),(0,s.jsx)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:t.map(e=>(0,s.jsx)(n.Zb,{className:"gradient-border card-hover",children:(0,s.jsxs)(n.aY,{className:"p-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:e.name}),(0,s.jsx)("p",{className:"text-3xl font-bold mt-1",children:e.value})]}),(0,s.jsx)("div",{className:"p-3 rounded-full bg-primary/10 ".concat(e.color),children:(0,s.jsx)(e.icon,{className:"h-6 w-6"})})]}),(0,s.jsxs)("div",{className:"flex items-center gap-1 mt-2 text-sm",children:[(0,s.jsx)(m,{className:"h-4 w-4 text-green-500"}),(0,s.jsx)("span",{className:"text-green-500",children:e.change}),(0,s.jsx)("span",{className:"text-muted-foreground",children:"较上周"})]})]})},e.name))}),(0,s.jsxs)("div",{className:"grid gap-8 lg:grid-cols-2",children:[(0,s.jsxs)(n.Zb,{className:"gradient-border",children:[(0,s.jsxs)(n.Ol,{children:[(0,s.jsx)(n.ll,{children:"最近活动"}),(0,s.jsx)(n.SZ,{children:"网站最新的动态"})]}),(0,s.jsx)(n.aY,{children:g.length>0?(0,s.jsx)("div",{className:"space-y-4",children:g.map(e=>(0,s.jsxs)("div",{className:"flex items-start gap-4 p-3 rounded-lg hover:bg-muted/50 transition-colors",children:[(0,s.jsxs)("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-primary/10",children:["post"===e.type&&(0,s.jsx)(l.Z,{className:"h-5 w-5 text-blue-500"}),"project"===e.type&&(0,s.jsx)(i.Z,{className:"h-5 w-5 text-green-500"}),"comment"===e.type&&(0,s.jsx)(c.Z,{className:"h-5 w-5 text-purple-500"}),"inquiry"===e.type&&(0,s.jsx)(d.Z,{className:"h-5 w-5 text-cyan-500"}),"user"===e.type&&(0,s.jsx)(h.Z,{className:"h-5 w-5 text-orange-500"})]}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsxs)("p",{className:"text-sm",children:[(0,s.jsx)("span",{className:"font-medium",children:e.user})," ",e.action]}),(0,s.jsx)("p",{className:"text-sm text-primary truncate",children:e.target})]}),(0,s.jsx)("span",{className:"text-xs text-muted-foreground whitespace-nowrap",children:e.time})]},e.id))}):(0,s.jsx)("div",{className:"text-center py-8 text-muted-foreground",children:"暂无活动数据"})})]}),(0,s.jsxs)(n.Zb,{className:"gradient-border",children:[(0,s.jsxs)(n.Ol,{children:[(0,s.jsx)(n.ll,{children:"快捷操作"}),(0,s.jsx)(n.SZ,{children:"常用功能的快速入口"})]}),(0,s.jsx)(n.aY,{children:(0,s.jsxs)("div",{className:"grid gap-4 sm:grid-cols-2",children:[(0,s.jsxs)("a",{href:"/admin/blog/new",className:"flex items-center gap-3 p-4 rounded-lg border border-border hover:border-primary hover:bg-primary/5 transition-all duration-200 group",children:[(0,s.jsx)("div",{className:"p-2 rounded-lg bg-blue-500/10 group-hover:bg-blue-500/20",children:(0,s.jsx)(l.Z,{className:"h-5 w-5 text-blue-500"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium",children:"撰写文章"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"发布新博客文章"})]})]}),(0,s.jsxs)("a",{href:"/admin/projects/new",className:"flex items-center gap-3 p-4 rounded-lg border border-border hover:border-primary hover:bg-primary/5 transition-all duration-200 group",children:[(0,s.jsx)("div",{className:"p-2 rounded-lg bg-green-500/10 group-hover:bg-green-500/20",children:(0,s.jsx)(i.Z,{className:"h-5 w-5 text-green-500"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium",children:"添加项目"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"展示新作品"})]})]}),(0,s.jsxs)("a",{href:"/admin/inquiries",className:"flex items-center gap-3 p-4 rounded-lg border border-border hover:border-primary hover:bg-primary/5 transition-all duration-200 group",children:[(0,s.jsx)("div",{className:"p-2 rounded-lg bg-cyan-500/10 group-hover:bg-cyan-500/20",children:(0,s.jsx)(d.Z,{className:"h-5 w-5 text-cyan-500"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium",children:"处理询价"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"查看待处理请求"})]})]}),(0,s.jsxs)("a",{href:"/admin/users",className:"flex items-center gap-3 p-4 rounded-lg border border-border hover:border-primary hover:bg-primary/5 transition-all duration-200 group",children:[(0,s.jsx)("div",{className:"p-2 rounded-lg bg-orange-500/10 group-hover:bg-orange-500/20",children:(0,s.jsx)(h.Z,{className:"h-5 w-5 text-orange-500"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium",children:"用户管理"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"管理注册用户"})]})]})]})})]})]})]})}},8030:function(e,r,t){"use strict";t.d(r,{Z:function(){return c}});var s=t(2265);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),n=function(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return r.filter((e,r,t)=>!!e&&t.indexOf(e)===r).join(" ")};/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=(0,s.forwardRef)((e,r)=>{let{color:t="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:c,className:d="",children:o,iconNode:m,...h}=e;return(0,s.createElement)("svg",{ref:r,...l,width:a,height:a,stroke:t,strokeWidth:c?24*Number(i)/Number(a):i,className:n("lucide",d),...h},[...m.map(e=>{let[r,t]=e;return(0,s.createElement)(r,t)}),...Array.isArray(o)?o:[o]])}),c=(e,r)=>{let t=(0,s.forwardRef)((t,l)=>{let{className:c,...d}=t;return(0,s.createElement)(i,{ref:l,iconNode:r,className:n("lucide-".concat(a(e)),c),...d})});return t.displayName="".concat(e),t}},2023:function(e,r,t){"use strict";t.d(r,{Z:function(){return s}});/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,t(8030).Z)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},1907:function(e,r,t){"use strict";t.d(r,{Z:function(){return s}});/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,t(8030).Z)("FolderKanban",[["path",{d:"M4 20h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.93a2 2 0 0 1-1.66-.9l-.82-1.2A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2Z",key:"1fr9dc"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M12 10v2",key:"hh53o1"}],["path",{d:"M16 10v6",key:"1d6xys"}]])},7390:function(e,r,t){"use strict";t.d(r,{Z:function(){return s}});/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,t(8030).Z)("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]])},8960:function(e,r,t){"use strict";t.d(r,{Z:function(){return s}});/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,t(8030).Z)("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]])},1240:function(e,r,t){"use strict";t.d(r,{Z:function(){return s}});/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,t(8030).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])}},function(e){e.O(0,[4868,7,2971,7023,1744],function(){return e(e.s=8806)}),_N_E=e.O()}]);