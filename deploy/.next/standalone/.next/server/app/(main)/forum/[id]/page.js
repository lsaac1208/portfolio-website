(()=>{var e={};e.id=685,e.ids=[685],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},4681:e=>{"use strict";e.exports=require("jsdom")},1038:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>i.a,__next_app__:()=>p,originalPathname:()=>m,pages:()=>c,routeModule:()=>x,tree:()=>d}),t(5909),t(945),t(4295),t(5866),t(6647);var a=t(3191),r=t(8716),n=t(7922),i=t.n(n),o=t(5231),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);t.d(s,l);let d=["",{children:["(main)",{children:["forum",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,5909)),"/root/.openclaw/workspace/portfolio-website/frontend/app/(main)/forum/[id]/page.tsx"]}]},{}]},{}]},{error:[()=>Promise.resolve().then(t.bind(t,945)),"/root/.openclaw/workspace/portfolio-website/frontend/app/(main)/error.tsx"],loading:[()=>Promise.resolve().then(t.bind(t,4295)),"/root/.openclaw/workspace/portfolio-website/frontend/app/(main)/loading.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,5866,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,6647)),"/root/.openclaw/workspace/portfolio-website/frontend/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,5866,23)),"next/dist/client/components/not-found-error"]}],c=["/root/.openclaw/workspace/portfolio-website/frontend/app/(main)/forum/[id]/page.tsx"],m="/(main)/forum/[id]/page",p={require:t,loadChunk:()=>Promise.resolve()},x=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/(main)/forum/[id]/page",pathname:"/forum/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},4124:(e,s,t)=>{Promise.resolve().then(t.bind(t,6088))},6088:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>v});var a=t(326),r=t(434),n=t(5047),i=t(7577),o=t(2643),l=t(772),d=t(7673),c=t(7863),m=t(6333),p=t(9635),x=t(2714),u=t(617),h=t(9436);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let f=(0,t(2881).Z)("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2h0a3.13 3.13 0 0 1 3 3.88Z",key:"y3tblf"}]]);var g=t(4420),j=t.n(g),b=t(8528);function v(){let e=(0,n.useParams)(),s=(0,n.useRouter)(),t=e.id,[g,v]=(0,i.useState)(null),[w,N]=(0,i.useState)([]),[y,k]=(0,i.useState)(""),[P,Z]=(0,i.useState)(!0),[_,q]=(0,i.useState)(!1),M=e=>j().sanitize(e),S=async()=>{if(y.trim()){if(!b.iJ.isAuthenticated()){(0,b.x2)("请先登录"),s.push("/login");return}q(!0);try{let e=await b.mJ.addComment(parseInt(t),{content:y});N([...w,e]),k(""),(0,b.s$)("评论发布成功")}catch(s){let e=s instanceof Error?s.message:"评论失败";(0,b.x2)(e)}finally{q(!1)}}};return P?a.jsx("div",{className:"mx-auto max-w-4xl px-6 py-12 lg:px-8",children:(0,a.jsxs)("div",{className:"animate-pulse space-y-4",children:[a.jsx("div",{className:"h-8 bg-muted rounded w-3/4"}),a.jsx("div",{className:"h-32 bg-muted rounded"})]})}):g?(0,a.jsxs)("div",{className:"mx-auto max-w-4xl px-6 py-12 lg:px-8",children:[a.jsx(l.z,{variant:"ghost",asChild:!0,className:"mb-6",children:(0,a.jsxs)(r.default,{href:"/forum",children:[a.jsx(m.Z,{className:"mr-2 h-4 w-4"}),"返回论坛"]})}),a.jsx(o.Zb,{className:"mb-8 gradient-border",children:(0,a.jsxs)(o.aY,{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground mb-4",children:[(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[a.jsx(p.Z,{className:"h-4 w-4"}),M(g.author?.name||"匿名")]}),a.jsx("span",{children:"\xb7"}),a.jsx("span",{children:(0,c.p6)(g.created_at)}),a.jsx("span",{children:"\xb7"}),(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[a.jsx(x.Z,{className:"h-4 w-4"}),g.views," 次浏览"]})]}),a.jsx("h1",{className:"text-2xl font-bold tracking-tight mb-4",children:M(g.title)}),a.jsx("div",{className:"prose prose-invert max-w-none",children:g.content.split("\n").map((e,s)=>a.jsx("p",{className:"text-muted-foreground whitespace-pre-wrap",children:M(e)},s))})]})}),(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(u.Z,{className:"h-5 w-5"}),(0,a.jsxs)("span",{className:"font-semibold",children:[w.length," 条评论"]})]}),a.jsx(o.Zb,{className:"mb-8",children:(0,a.jsxs)(o.aY,{className:"p-4",children:[a.jsx(d.g,{placeholder:"写下你的评论...",value:y,onChange:e=>k(e.target.value),className:"min-h-[100px] mb-4 input-glow"}),a.jsx("div",{className:"flex justify-end",children:(0,a.jsxs)(l.z,{onClick:S,disabled:_||!y.trim(),children:[a.jsx(h.Z,{className:"mr-2 h-4 w-4"}),_?"发布中...":"发布评论"]})})]})}),a.jsx("div",{className:"space-y-4",children:w.map(e=>a.jsx(o.Zb,{className:"glass-card",children:a.jsx(o.aY,{className:"p-4",children:a.jsx("div",{className:"flex items-start justify-between gap-4",children:(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-primary/10",children:a.jsx(p.Z,{className:"h-4 w-4 text-primary"})}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-semibold",children:M(e.author?.name||"匿名")}),a.jsx("span",{className:"text-xs text-muted-foreground",children:(0,c.p6)(e.created_at)})]}),a.jsx("p",{className:"mt-1 text-muted-foreground",children:M(e.content)}),(0,a.jsxs)("div",{className:"mt-3 flex items-center gap-4",children:[(0,a.jsxs)("button",{className:"flex items-center gap-1 text-sm text-muted-foreground hover:text-primary transition-colors",children:[a.jsx(f,{className:"h-4 w-4"}),a.jsx("span",{children:e.likes})]}),a.jsx("button",{className:"text-sm text-muted-foreground hover:text-primary transition-colors",children:"回复"})]})]})]})})})},e.id))})]}):a.jsx("div",{className:"mx-auto max-w-4xl px-6 py-12 lg:px-8",children:a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-muted-foreground",children:"话题不存在"})})})}},7673:(e,s,t)=>{"use strict";t.d(s,{g:()=>i});var a=t(326),r=t(7577),n=t(7863);let i=r.forwardRef(({className:e,...s},t)=>a.jsx("textarea",{className:(0,n.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-input px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 transition-all duration-300",e),ref:t,...s}));i.displayName="Textarea"},2714:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(2881).Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},617:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(2881).Z)("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]])},9436:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(2881).Z)("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]])},5909:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>i,__esModule:()=>n,default:()=>o});var a=t(8570);let r=(0,a.createProxy)(String.raw`/root/.openclaw/workspace/portfolio-website/frontend/app/(main)/forum/[id]/page.tsx`),{__esModule:n,$$typeof:i}=r;r.default;let o=(0,a.createProxy)(String.raw`/root/.openclaw/workspace/portfolio-website/frontend/app/(main)/forum/[id]/page.tsx#default`)}};var s=require("../../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[472,725,362,136],()=>t(1038));module.exports=a})();